{"version":3,"sources":["fonts/OpenSans-Regular.ttf","fonts/OpenSans-SemiBold.ttf","fonts/OpenSans-Light.ttf","img/logo.svg","styled.js","FilterItem.jsx","Filter.jsx","Sidebar.jsx","TicketsService.js","SortItem.jsx","Sort.jsx","Error.jsx","FlyInfo.jsx","Flight.jsx","Flights.jsx","MainContent.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","GlobalStyle","createGlobalStyle","normalize","OpenSansRegular","OpenSansSemiBold","OpenSansLight","Header","styled","header","MainContentWrapper","section","SidebarWrapper","aside","FilterItemsList","ul","FilterItemLi","li","SearchResultsWrapper","main","SortWrapper","SortButton","button","props","active","position","FlightsList","FlightLi","FlyInfoMain","div","FlyPrice","h2","CompanyLogo","span","FlyInfoDiv","FlyInfoTitle","FlyInfoElement","FlyInfoContent","ErrorDiv","FilterItem","name","id","onChangeStopsFilter","isChecked","className","type","onChange","checked","htmlFor","defaultProps","Filter","stopsFilter","all","none","one","two","three","Sidebar","filterToStopsMap","0","1","2","3","TicketsService","getFilteredTickets","coll","filters","filter","ticket","ticketStopsTo","segments","stops","length","ticketStopsFrom","getSortedTickets","orderBy","_","sortBy","duration","this","searchId","allTickets","axios","get","resp","data","params","tickets","getSearchId","fetchTickets","initData","filtered","sorted","slice","SortItem","title","isActive","clickSortHandle","onClick","Sort","onChangeSorting","Error","message","FlyInfo","info","origin","destination","date","formattedDuration","Math","floor","flightTime","depDate","Date","dep","format","arrive","addMinutes","getFlyDates","count","stopsTitle","getStopsTitle","join","Flights","price","carrier","carrierLogo","formattedPrice","Intl","NumberFormat","src","alt","map","Flight","key","uniqueId","Tickets","MainContent","getTickets","setState","error","state","then","catch","err","stopsCount","mapValues","React","Component","App","logo","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.63411986.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/OpenSans-Regular.3ed9575d.ttf\";","module.exports = __webpack_public_path__ + \"static/media/OpenSans-SemiBold.ba5cde21.ttf\";","module.exports = __webpack_public_path__ + \"static/media/OpenSans-Light.2d0bdc8d.ttf\";","module.exports = __webpack_public_path__ + \"static/media/logo.0c089234.svg\";","import styled, { createGlobalStyle } from 'styled-components';\nimport { normalize } from 'styled-normalize';\nimport OpenSansRegular from './fonts/OpenSans-Regular.ttf';\nimport OpenSansSemiBold from './fonts/OpenSans-SemiBold.ttf';\nimport OpenSansLight from './fonts/OpenSans-Light.ttf';\n\nexport const GlobalStyle = createGlobalStyle`\n  ${normalize}\n  \n  @font-face {\n    font-family: 'Open Sans';\n    src: url(${OpenSansRegular});\n  }\n  \n  @font-face {\n    font-family: 'Open Sans Regular';\n    src: url(${OpenSansSemiBold});\n  }\n  \n   @font-face {\n    font-family: 'Open Sans Light';\n    src: url(${OpenSansLight});\n  }\n  \n  body {\n    min-width: 800px;\n    background-color: #f3f7fa;\n    font-family: 'Open Sans Regular';\n    font-size: 12px;\n    font-style: normal;\n    color: #4A4A4A;\n    font-weight: 600;\n    letter-spacing: 0.5px;\n  }\n  h3 {\n    margin: 0;\n  }\n`;\n\nexport const Header = styled.header`\n  text-align: center;\n  padding: 30px;\n`;\n\nexport const MainContentWrapper = styled.section`\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  text-transform: uppercase;\n  ul {\n    list-style: none;\n    padding-left: 0;\n    margin: 0;\n  }\n`;\n\nexport const SidebarWrapper = styled.aside`\n  background: #ffffff;\n  border-radius: 5px;\n  width: 230px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  h3 {\n    line-height: 12px;\n    padding: 20px 20px 10px 20px;\n    font-size: 12px;\n  }\n`;\n\nexport const FilterItemsList = styled.ul`\n  font-size: 13px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 20px;\n  text-transform: none;\n  padding-bottom: 10px;\n  font-family: 'Open Sans Light';\n`;\n\nexport const FilterItemLi = styled.li`\n  padding: 10px 20px;\n  &:hover {\n    background-color: #f1fcff;\n  }\n\n  .checkbox {\n    input[type='checkbox'] {\n      opacity: 0;\n\n      & + label::after {\n        content: none;\n      }\n\n      &:checked + label::after {\n        content: '';\n      }\n\n      &:checked + label::before {\n        border-color: #2196f3;\n      }\n\n      &:focus + label::before {\n        outline: rgb(59, 153, 252) auto 3px;\n      }\n    }\n\n    label {\n      cursor: pointer;\n      margin-left: 20px;\n      position: relative;\n      display: inline-block;\n      width: 80%;\n\n      &::before,\n      &::after {\n        position: absolute;\n        content: '';\n        display: inline-block;\n      }\n\n      &::before {\n        left: -32px;\n        top: -2px;\n        width: 20px;\n        height: 20px;\n        border: 1px solid #9abbce;\n        border-radius: 2px;\n      }\n\n      &::after {\n        left: -26px;\n        top: 3px;\n        height: 6px;\n        width: 9px;\n        border-left: 2px solid;\n        border-bottom: 2px solid;\n        transform: rotate(-45deg);\n        color: #2196f3;\n      }\n    }\n  }\n`;\n\nexport const SearchResultsWrapper = styled.main`\n  width: 500px;\n  margin-left: 20px;\n`;\n\nexport const SortWrapper = styled.section`\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  background-color: #fff;\n  display: flex;\n`;\n\nexport const SortButton = styled.button`\n  background-color: ${props => (props.active ? '#2196F3' : 'white')};\n  border: ${props => (props.active ? '1px solid #2196F3' : '1px solid #DFE5EC')};\n  color: ${props => (props.active ? '#FFFFFF' : 'inherit')};\n  width: 100%;\n  height: 48px;\n  line-height: 20px;\n  border-radius: ${props => (props.position === 'left' ? '5px 0 0 5px' : '0 5px 5px 0')};\n  text-transform: uppercase;\n`;\n\nexport const FlightsList = styled.section`\n  margin-bottom: 50px;\n`;\n\nexport const FlightLi = styled.li`\n  background-color: #ffffff;\n  width: 460px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  margin-top: 20px;\n`;\n\nexport const FlyInfoMain = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n`;\n\nexport const FlyPrice = styled.h2`\n  font-size: 24px;\n  line-height: 24px;\n  color: #2196f3;\n  margin: 0;\n`;\n\nexport const CompanyLogo = styled.span`\n  margin-right: 30px;\n`;\n\nexport const FlyInfoDiv = styled.div`\n  margin-top: 20px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const FlyInfoTitle = styled.div`\n  color: #a0b0b9;\n  line-height: 18px;\n`;\n\nexport const FlyInfoElement = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 140px;\n`;\n\nexport const FlyInfoContent = styled.div`\n  font-size: 14px;\n  line-height: 21px;\n  text-transform: none;\n`;\n\nexport const ErrorDiv = styled.div`\n  color: tomato;\n  text-align: center;\n  margin-top: 50px;\n  text-transform: none;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FilterItemLi } from './styled';\n\nconst FilterItem = props => {\n  const { name, id, onChangeStopsFilter, isChecked } = props;\n  return (\n    <FilterItemLi>\n      <div className=\"checkbox\">\n        <input\n          type=\"checkbox\"\n          id={id}\n          name={id}\n          onChange={onChangeStopsFilter(id)}\n          checked={isChecked}\n        />\n        <label htmlFor={id}>{name}</label>\n      </div>\n    </FilterItemLi>\n  );\n};\n\nFilterItem.propTypes = {\n  name: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  onChangeStopsFilter: PropTypes.func.isRequired,\n  isChecked: PropTypes.bool,\n};\n\nFilterItem.defaultProps = {\n  name: 'Filter name',\n  isChecked: props => props.id === 'all',\n};\n\nexport default FilterItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FilterItem from './FilterItem';\nimport { FilterItemsList } from './styled';\n\nconst Filter = ({ onChangeStopsFilter, stopsFilter }) => {\n  return (\n    <FilterItemsList>\n      <FilterItem\n        name=\"Все\"\n        id=\"all\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.all}\n      />\n      <FilterItem\n        name=\"Без пересадок\"\n        id=\"none\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.none}\n      />\n      <FilterItem\n        name=\"1 пересадка\"\n        id=\"one\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.one}\n      />\n      <FilterItem\n        name=\"2 пересадки\"\n        id=\"two\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.two}\n      />\n      <FilterItem\n        name=\"3 пересадки\"\n        id=\"three\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.three}\n      />\n    </FilterItemsList>\n  );\n};\n\nFilter.propTypes = {\n  onChangeStopsFilter: PropTypes.func.isRequired,\n  stopsFilter: PropTypes.shape({\n    all: PropTypes.bool,\n    none: PropTypes.bool,\n    one: PropTypes.bool,\n    two: PropTypes.bool,\n    three: PropTypes.bool,\n  }),\n};\n\nFilter.defaultProps = {\n  stopsFilter: {\n    all: true,\n    none: false,\n    one: false,\n    two: false,\n    three: false,\n  },\n};\n\nexport default Filter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Filter from './Filter';\n\nimport { SidebarWrapper } from './styled';\n\nconst Sidebar = ({ onChangeStopsFilter, stopsFilter }) => {\n  return (\n    <SidebarWrapper>\n      <h3>Количество пересадок</h3>\n      <Filter onChangeStopsFilter={onChangeStopsFilter} stopsFilter={stopsFilter} />\n    </SidebarWrapper>\n  );\n};\n\nSidebar.propTypes = {\n  onChangeStopsFilter: PropTypes.func.isRequired,\n  stopsFilter: PropTypes.shape({\n    all: PropTypes.bool,\n    none: PropTypes.bool,\n    one: PropTypes.bool,\n    two: PropTypes.bool,\n    three: PropTypes.bool,\n  }),\n};\n\nSidebar.defaultProps = {\n  stopsFilter: {\n    all: true,\n    none: false,\n    one: false,\n    two: false,\n    three: false,\n  },\n};\n\nexport default Sidebar;\n","import axios from 'axios';\nimport _ from 'lodash';\n\nconst SEARCH_URL = 'https://front-test.beta.aviasales.ru/search';\nconst TICKETS_URL = 'https://front-test.beta.aviasales.ru/tickets';\n\nconst filterToStopsMap = {\n  0: 'none',\n  1: 'one',\n  2: 'two',\n  3: 'three',\n};\n\nexport default class TicketsService {\n  constructor() {\n    this.searchId = '@INIT';\n    this.allTickets = [];\n  }\n\n  async getSearchId() {\n    const resp = await axios.get(SEARCH_URL);\n    this.searchId = resp.data.searchId;\n  }\n\n  async fetchTickets() {\n    const resp = await axios.get(TICKETS_URL, {\n      params: { searchId: this.searchId },\n    });\n    const { data } = resp;\n    this.allTickets = [...data.tickets];\n  }\n\n  async initData() {\n    await this.getSearchId();\n    await this.fetchTickets();\n  }\n\n  async getTickets(stopsFilter, sortBy) {\n    if (this.searchId === '@INIT') {\n      await this.initData();\n    }\n    const filtered = this.getFilteredTickets(this.allTickets, stopsFilter);\n    const sorted = this.getSortedTickets(filtered, sortBy);\n    return sorted.slice(0, 5);\n  }\n\n  getFilteredTickets = (coll, filters) => {\n    if (filters.all) return coll;\n    return coll.filter(ticket => {\n      const ticketStopsTo = ticket.segments[0].stops.length;\n      const ticketStopsFrom = ticket.segments[1].stops.length;\n      return filters[filterToStopsMap[ticketStopsTo]] && filters[filterToStopsMap[ticketStopsFrom]];\n    });\n  };\n\n  getSortedTickets = (coll, orderBy) => {\n    if (orderBy === 'duration')\n      return _.sortBy(coll, ticket => ticket.segments[0].duration + ticket.segments[1].duration);\n    return _.sortBy(coll, orderBy);\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SortButton } from './styled';\n\nconst SortItem = props => {\n  const { title, isActive, position, clickSortHandle } = props;\n  return (\n    <SortButton type=\"button\" position={position} active={isActive} onClick={clickSortHandle}>\n      {title}\n    </SortButton>\n  );\n};\n\nSortItem.propTypes = {\n  title: PropTypes.string,\n  isActive: PropTypes.bool.isRequired,\n  position: PropTypes.string.isRequired,\n  clickSortHandle: PropTypes.func.isRequired,\n};\n\nSortItem.defaultProps = {\n  title: 'Filter name',\n};\n\nexport default SortItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SortItem from './SortItem';\nimport { SortWrapper } from './styled';\n\nconst Sort = props => {\n  const { onChangeSorting, sortBy } = props;\n  return (\n    <SortWrapper>\n      <SortItem\n        title=\"Самый дешевый\"\n        isActive={sortBy === 'price'}\n        position=\"left\"\n        clickSortHandle={onChangeSorting('price')}\n      />\n      <SortItem\n        title=\"Самый быстрый\"\n        isActive={sortBy === 'duration'}\n        position=\"right\"\n        clickSortHandle={onChangeSorting('duration')}\n      />\n    </SortWrapper>\n  );\n};\n\nSort.propTypes = {\n  onChangeSorting: PropTypes.func.isRequired,\n  sortBy: PropTypes.string,\n};\n\nSort.defaultProps = {\n  sortBy: 'price',\n};\n\nexport default Sort;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ErrorDiv } from './styled';\n\nconst Error = ({ title, message }) => {\n  return (\n    <ErrorDiv>\n      <h3>{title}</h3>\n      <p>{message}</p>\n    </ErrorDiv>\n  );\n};\n\nError.propTypes = {\n  title: PropTypes.string,\n  message: PropTypes.string,\n};\n\nError.defaultProps = {\n  title: 'Unknown Error',\n  message: '',\n};\n\nexport default Error;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { format, addMinutes } from 'date-fns';\nimport { FlyInfoDiv, FlyInfoElement, FlyInfoTitle, FlyInfoContent } from './styled';\n\nconst getStopsTitle = count => {\n  const stopsTitle = count > 1 ? `${count} пересадки` : `1 пересадка`;\n  return count > 0 ? stopsTitle : 'Без пересадок';\n};\n\nconst getFlyDates = (date, duration) => {\n  const depDate = new Date(date);\n  const depTime = format(depDate, 'HH:mm');\n  const arriveTime = format(addMinutes(depDate, duration), 'HH:mm');\n  return { dep: depTime, arrive: arriveTime };\n};\n\nconst FlyInfo = ({ info }) => {\n  const { origin, destination, date, stops, duration } = info;\n  const formattedDuration = `${Math.floor(duration / 60)}ч ${duration % 60}м`;\n  const flightTime = getFlyDates(date, duration);\n  return (\n    <FlyInfoDiv>\n      <FlyInfoElement>\n        <FlyInfoTitle>{`${origin} – ${destination}`}</FlyInfoTitle>\n        <FlyInfoContent>{`${flightTime.dep} – ${flightTime.arrive}`}</FlyInfoContent>\n      </FlyInfoElement>\n      <FlyInfoElement>\n        <FlyInfoTitle>В пути</FlyInfoTitle>\n        <FlyInfoContent>{formattedDuration}</FlyInfoContent>\n      </FlyInfoElement>\n      <FlyInfoElement>\n        <FlyInfoTitle>{getStopsTitle(stops.length)}</FlyInfoTitle>\n        <FlyInfoContent>{stops.join(', ')}</FlyInfoContent>\n      </FlyInfoElement>\n    </FlyInfoDiv>\n  );\n};\n\nFlyInfo.propTypes = {\n  info: PropTypes.shape({\n    origin: PropTypes.string,\n    destination: PropTypes.string,\n    date: PropTypes.string,\n    stops: PropTypes.instanceOf(Array),\n    duration: PropTypes.number,\n  }),\n};\n\nFlyInfo.defaultProps = {\n  info: {\n    origin: '',\n    destination: '',\n    date: '',\n    stops: [],\n    duration: 0,\n  },\n};\n\nexport default FlyInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FlyInfo from './FlyInfo';\nimport { FlightLi, FlyInfoMain, FlyPrice, CompanyLogo } from './styled';\n\nconst Flights = ({ ticket }) => {\n  const { price, carrier, segments } = ticket;\n  const carrierLogo = `http://pics.avs.io/99/36/${carrier}.png`;\n  const formattedPrice = `${new Intl.NumberFormat('ru-RU').format(price)} р`;\n  return (\n    <FlightLi>\n      <FlyInfoMain>\n        <FlyPrice>{formattedPrice}</FlyPrice>\n        <CompanyLogo>\n          <img src={carrierLogo} alt=\"Carrier logo\" />\n        </CompanyLogo>\n      </FlyInfoMain>\n      <FlyInfo info={segments[0]} />\n      <FlyInfo info={segments[1]} />\n    </FlightLi>\n  );\n};\n\nFlights.propTypes = {\n  ticket: PropTypes.shape({\n    price: PropTypes.number,\n    carrier: PropTypes.string,\n    segments: PropTypes.instanceOf(Array),\n  }),\n};\n\nFlights.defaultProps = {\n  ticket: {\n    price: 0,\n    carrier: '',\n    segments: [],\n  },\n};\n\nexport default Flights;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport Flight from './Flight';\nimport { FlightsList } from './styled';\n\nconst Flights = ({ tickets }) => {\n  return (\n    <FlightsList>\n      <ul>\n        {tickets.map(ticket => (\n          <Flight key={_.uniqueId()} ticket={ticket} />\n        ))}\n      </ul>\n    </FlightsList>\n  );\n};\n\nFlights.propTypes = {\n  tickets: PropTypes.instanceOf(Array),\n};\n\nFlights.defaultProps = {\n  tickets: [],\n};\n\nexport default Flights;\n","import React from 'react';\nimport _ from 'lodash';\nimport Sidebar from './Sidebar';\nimport { MainContentWrapper, SearchResultsWrapper } from './styled';\nimport TicketsService from './TicketsService';\nimport Sort from './Sort';\nimport Error from './Error';\nimport Flights from './Flights';\n\nconst Tickets = new TicketsService();\n\nexport default class MainContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tickets: [],\n      stopsFilter: {\n        all: true,\n        none: false,\n        one: false,\n        two: false,\n        three: false,\n      },\n      sortBy: 'price',\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    this.getTickets();\n  }\n\n  getTickets = () => {\n    this.setState({ error: null });\n    const { stopsFilter, sortBy } = this.state;\n    Tickets.getTickets(stopsFilter, sortBy)\n      .then(data => this.setState({ tickets: data }))\n      .catch(err => {\n        this.setState({ error: err.message });\n        this.getTickets();\n      });\n  };\n\n  onChangeStopsFilter = stopsCount => () => {\n    this.setState(state => {\n      if (stopsCount === 'all') {\n        return {\n          stopsFilter: {\n            ..._.mapValues(state.stopsFilter, () => false),\n            all: true,\n          },\n        };\n      }\n      return {\n        stopsFilter: {\n          ...state.stopsFilter,\n          [stopsCount]: !state.stopsFilter[stopsCount],\n          all: false,\n        },\n      };\n    }, this.getTickets);\n  };\n\n  onChangeSorting = sortBy => () => {\n    this.setState({ sortBy }, this.getTickets);\n  };\n\n  render() {\n    const { tickets, stopsFilter, error, sortBy } = this.state;\n    return (\n      <MainContentWrapper>\n        <Sidebar onChangeStopsFilter={this.onChangeStopsFilter} stopsFilter={stopsFilter} />\n        <SearchResultsWrapper>\n          <Sort onChangeSorting={this.onChangeSorting} sortBy={sortBy} />\n          {error ? (\n            <Error title=\"Sorry, network error. Wait...\" message={error} />\n          ) : (\n            <Flights tickets={tickets} />\n          )}\n        </SearchResultsWrapper>\n      </MainContentWrapper>\n    );\n  }\n}\n","import React from 'react';\nimport MainContent from './MainContent';\nimport logo from './img/logo.svg';\nimport { GlobalStyle, Header } from './styled';\n\nconst App = () => {\n  return (\n    <>\n      <GlobalStyle />\n      <Header>\n        <img src={logo} alt=\"Aviasales logo\" />\n      </Header>\n      <MainContent />\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}