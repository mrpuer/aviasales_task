{"version":3,"sources":["fonts/OpenSans-Regular.ttf","fonts/OpenSans-SemiBold.ttf","fonts/OpenSans-Light.ttf","img/logo.svg","styled.js","FilterItem.jsx","Filter.jsx","Sidebar.jsx","TicketsService.js","SortItem.jsx","Sort.jsx","Error.jsx","FlyInfo.jsx","Flight.jsx","Flights.jsx","MainContent.jsx","customHooks/useInterval.js","App.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","GlobalStyle","createGlobalStyle","normalize","OpenSansRegular","OpenSansSemiBold","OpenSansLight","Header","styled","header","MainContentWrapper","section","SidebarWrapper","aside","FilterItemsList","ul","FilterItemLi","li","SearchResultsWrapper","main","SortWrapper","SortButton","button","props","active","position","FlightsList","FlightLi","FlyInfoMain","div","FlyPrice","h2","CompanyLogo","span","FlyInfoDiv","FlyInfoTitle","FlyInfoElement","FlyInfoContent","ErrorDiv","FilterItem","name","id","onChangeStopsFilter","isChecked","className","type","onChange","checked","htmlFor","defaultProps","Filter","stopsFilter","all","none","one","two","three","Sidebar","filterToStopsMap","0","1","2","3","TicketsService","getFilteredTickets","coll","filters","filter","ticket","ticketStopsTo","segments","stops","length","ticketStopsFrom","getSortedTickets","orderBy","_","sortBy","duration","this","searchId","allTickets","stop","axios","get","resp","data","params","concat","tickets","getSearchId","fetchTickets","filtered","sorted","newTickets","slice","finish","SortItem","title","isActive","clickSortHandle","onClick","Sort","onChangeSorting","Error","message","FlyInfo","info","origin","destination","date","formattedDuration","Math","floor","flightTime","depDate","Date","dep","format","arrive","addMinutes","getFlyDates","count","stopsTitle","getStopsTitle","join","Flights","price","carrier","carrierLogo","formattedPrice","Intl","NumberFormat","src","alt","map","Flight","key","Tickets","MainContent","useState","updateTickets","error","setError","updateSorting","setStopsFilter","intervalId","getTickets","useCallback","then","clearTimeout","catch","err","intervalRef","callback","delay","React","useRef","callbackRef","useEffect","current","window","setInterval","clearInterval","useInterval","stopsCount","mapValues","sortDirection","App","logo","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c952d566.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/OpenSans-Regular.3ed9575d.ttf\";","module.exports = __webpack_public_path__ + \"static/media/OpenSans-SemiBold.ba5cde21.ttf\";","module.exports = __webpack_public_path__ + \"static/media/OpenSans-Light.2d0bdc8d.ttf\";","module.exports = __webpack_public_path__ + \"static/media/logo.0c089234.svg\";","import styled, { createGlobalStyle } from 'styled-components';\nimport { normalize } from 'styled-normalize';\nimport OpenSansRegular from './fonts/OpenSans-Regular.ttf';\nimport OpenSansSemiBold from './fonts/OpenSans-SemiBold.ttf';\nimport OpenSansLight from './fonts/OpenSans-Light.ttf';\n\nexport const GlobalStyle = createGlobalStyle`\n  ${normalize}\n  \n  @font-face {\n    font-family: 'Open Sans';\n    src: url(${OpenSansRegular});\n  }\n  \n  @font-face {\n    font-family: 'Open Sans Regular';\n    src: url(${OpenSansSemiBold});\n  }\n  \n   @font-face {\n    font-family: 'Open Sans Light';\n    src: url(${OpenSansLight});\n  }\n  \n  body {\n    min-width: 800px;\n    background-color: #f3f7fa;\n    font-family: 'Open Sans Regular';\n    font-size: 12px;\n    font-style: normal;\n    color: #4A4A4A;\n    font-weight: 600;\n    letter-spacing: 0.5px;\n  }\n  h3 {\n    margin: 0;\n  }\n`;\n\nexport const Header = styled.header`\n  text-align: center;\n  padding: 30px;\n`;\n\nexport const MainContentWrapper = styled.section`\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  text-transform: uppercase;\n  ul {\n    list-style: none;\n    padding-left: 0;\n    margin: 0;\n  }\n`;\n\nexport const SidebarWrapper = styled.aside`\n  background: #ffffff;\n  border-radius: 5px;\n  width: 230px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  h3 {\n    line-height: 12px;\n    padding: 20px 20px 10px 20px;\n    font-size: 12px;\n  }\n`;\n\nexport const FilterItemsList = styled.ul`\n  font-size: 13px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 20px;\n  text-transform: none;\n  padding-bottom: 10px;\n  font-family: 'Open Sans Light';\n`;\n\nexport const FilterItemLi = styled.li`\n  padding: 10px 20px;\n  &:hover {\n    background-color: #f1fcff;\n  }\n\n  .checkbox {\n    input[type='checkbox'] {\n      opacity: 0;\n\n      & + label::after {\n        content: none;\n      }\n\n      &:checked + label::after {\n        content: '';\n      }\n\n      &:checked + label::before {\n        border-color: #2196f3;\n      }\n\n      &:focus + label::before {\n        outline: rgb(59, 153, 252) auto 3px;\n      }\n    }\n\n    label {\n      cursor: pointer;\n      margin-left: 20px;\n      position: relative;\n      display: inline-block;\n      width: 80%;\n\n      &::before,\n      &::after {\n        position: absolute;\n        content: '';\n        display: inline-block;\n      }\n\n      &::before {\n        left: -32px;\n        top: -2px;\n        width: 20px;\n        height: 20px;\n        border: 1px solid #9abbce;\n        border-radius: 2px;\n      }\n\n      &::after {\n        left: -26px;\n        top: 3px;\n        height: 6px;\n        width: 9px;\n        border-left: 2px solid;\n        border-bottom: 2px solid;\n        transform: rotate(-45deg);\n        color: #2196f3;\n      }\n    }\n  }\n`;\n\nexport const SearchResultsWrapper = styled.main`\n  width: 500px;\n  margin-left: 20px;\n`;\n\nexport const SortWrapper = styled.section`\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  background-color: #fff;\n  display: flex;\n`;\n\nexport const SortButton = styled.button`\n  background-color: ${props => (props.active ? '#2196F3' : 'white')};\n  border: ${props => (props.active ? '1px solid #2196F3' : '1px solid #DFE5EC')};\n  color: ${props => (props.active ? '#FFFFFF' : 'inherit')};\n  width: 100%;\n  height: 48px;\n  line-height: 20px;\n  border-radius: ${props => (props.position === 'left' ? '5px 0 0 5px' : '0 5px 5px 0')};\n  text-transform: uppercase;\n`;\n\nexport const FlightsList = styled.section`\n  margin-bottom: 50px;\n`;\n\nexport const FlightLi = styled.li`\n  background-color: #ffffff;\n  width: 460px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  margin-top: 20px;\n`;\n\nexport const FlyInfoMain = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n`;\n\nexport const FlyPrice = styled.h2`\n  font-size: 24px;\n  line-height: 24px;\n  color: #2196f3;\n  margin: 0;\n`;\n\nexport const CompanyLogo = styled.span`\n  margin-right: 30px;\n`;\n\nexport const FlyInfoDiv = styled.div`\n  margin-top: 20px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const FlyInfoTitle = styled.div`\n  color: #a0b0b9;\n  line-height: 18px;\n`;\n\nexport const FlyInfoElement = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 140px;\n`;\n\nexport const FlyInfoContent = styled.div`\n  font-size: 14px;\n  line-height: 21px;\n  text-transform: none;\n`;\n\nexport const ErrorDiv = styled.div`\n  color: tomato;\n  text-align: center;\n  margin-top: 50px;\n  text-transform: none;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FilterItemLi } from './styled';\n\nconst FilterItem = props => {\n  const { name, id, onChangeStopsFilter, isChecked } = props;\n  return (\n    <FilterItemLi>\n      <div className=\"checkbox\">\n        <input\n          type=\"checkbox\"\n          id={id}\n          name={id}\n          onChange={onChangeStopsFilter(id)}\n          checked={isChecked}\n        />\n        <label htmlFor={id}>{name}</label>\n      </div>\n    </FilterItemLi>\n  );\n};\n\nFilterItem.propTypes = {\n  name: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  onChangeStopsFilter: PropTypes.func.isRequired,\n  isChecked: PropTypes.bool,\n};\n\nFilterItem.defaultProps = {\n  name: 'Filter name',\n  isChecked: props => props.id === 'all',\n};\n\nexport default FilterItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FilterItem from './FilterItem';\nimport { FilterItemsList } from './styled';\n\nconst Filter = ({ onChangeStopsFilter, stopsFilter }) => {\n  return (\n    <FilterItemsList>\n      <FilterItem\n        name=\"Все\"\n        id=\"all\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.all}\n      />\n      <FilterItem\n        name=\"Без пересадок\"\n        id=\"none\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.none}\n      />\n      <FilterItem\n        name=\"1 пересадка\"\n        id=\"one\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.one}\n      />\n      <FilterItem\n        name=\"2 пересадки\"\n        id=\"two\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.two}\n      />\n      <FilterItem\n        name=\"3 пересадки\"\n        id=\"three\"\n        onChangeStopsFilter={onChangeStopsFilter}\n        isChecked={stopsFilter.three}\n      />\n    </FilterItemsList>\n  );\n};\n\nFilter.propTypes = {\n  onChangeStopsFilter: PropTypes.func.isRequired,\n  stopsFilter: PropTypes.shape({\n    all: PropTypes.bool,\n    none: PropTypes.bool,\n    one: PropTypes.bool,\n    two: PropTypes.bool,\n    three: PropTypes.bool,\n  }),\n};\n\nFilter.defaultProps = {\n  stopsFilter: {\n    all: true,\n    none: false,\n    one: false,\n    two: false,\n    three: false,\n  },\n};\n\nexport default Filter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Filter from './Filter';\n\nimport { SidebarWrapper } from './styled';\n\nconst Sidebar = ({ onChangeStopsFilter, stopsFilter }) => {\n  return (\n    <SidebarWrapper>\n      <h3>Количество пересадок</h3>\n      <Filter onChangeStopsFilter={onChangeStopsFilter} stopsFilter={stopsFilter} />\n    </SidebarWrapper>\n  );\n};\n\nSidebar.propTypes = {\n  onChangeStopsFilter: PropTypes.func.isRequired,\n  stopsFilter: PropTypes.shape({\n    all: PropTypes.bool,\n    none: PropTypes.bool,\n    one: PropTypes.bool,\n    two: PropTypes.bool,\n    three: PropTypes.bool,\n  }),\n};\n\nSidebar.defaultProps = {\n  stopsFilter: {\n    all: true,\n    none: false,\n    one: false,\n    two: false,\n    three: false,\n  },\n};\n\nexport default Sidebar;\n","import axios from 'axios';\nimport _ from 'lodash';\n\nconst SEARCH_URL = 'https://front-test.beta.aviasales.ru/search';\nconst TICKETS_URL = 'https://front-test.beta.aviasales.ru/tickets';\n\nconst filterToStopsMap = {\n  0: 'none',\n  1: 'one',\n  2: 'two',\n  3: 'three',\n};\n\nexport default class TicketsService {\n  constructor() {\n    this.searchId = '@INIT';\n    this.allTickets = [];\n    this.stop = false;\n  }\n\n  async getSearchId() {\n    const resp = await axios.get(SEARCH_URL);\n    this.searchId = resp.data.searchId;\n  }\n\n  async fetchTickets() {\n    const resp = await axios.get(TICKETS_URL, {\n      params: { searchId: this.searchId },\n    });\n    const { data } = resp;\n    this.allTickets = this.allTickets.concat(data.tickets);\n    this.stop = data.stop;\n  }\n\n  async getTickets(stopsFilter, sortBy) {\n    if (!this.stop) {\n      if (this.searchId === '@INIT') {\n        await this.getSearchId();\n      }\n      await this.fetchTickets();\n    }\n    const filtered = this.getFilteredTickets(this.allTickets, stopsFilter);\n    const sorted = this.getSortedTickets(filtered, sortBy);\n    return { newTickets: sorted.slice(0, 5), finish: this.stop };\n  }\n\n  getFilteredTickets = (coll, filters) => {\n    if (filters.all) return coll;\n    return coll.filter(ticket => {\n      const ticketStopsTo = ticket.segments[0].stops.length;\n      const ticketStopsFrom = ticket.segments[1].stops.length;\n      return filters[filterToStopsMap[ticketStopsTo]] && filters[filterToStopsMap[ticketStopsFrom]];\n    });\n  };\n\n  getSortedTickets = (coll, orderBy) => {\n    if (orderBy === 'duration')\n      return _.sortBy(coll, ticket => ticket.segments[0].duration + ticket.segments[1].duration);\n    return _.sortBy(coll, orderBy);\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SortButton } from './styled';\n\nconst SortItem = props => {\n  const { title, isActive, position, clickSortHandle } = props;\n  return (\n    <SortButton type=\"button\" position={position} active={isActive} onClick={clickSortHandle}>\n      {title}\n    </SortButton>\n  );\n};\n\nSortItem.propTypes = {\n  title: PropTypes.string,\n  isActive: PropTypes.bool.isRequired,\n  position: PropTypes.string.isRequired,\n  clickSortHandle: PropTypes.func.isRequired,\n};\n\nSortItem.defaultProps = {\n  title: 'Filter name',\n};\n\nexport default SortItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SortItem from './SortItem';\nimport { SortWrapper } from './styled';\n\nconst Sort = props => {\n  const { onChangeSorting, sortBy } = props;\n  return (\n    <SortWrapper>\n      <SortItem\n        title=\"Самый дешевый\"\n        isActive={sortBy === 'price'}\n        position=\"left\"\n        clickSortHandle={onChangeSorting('price')}\n      />\n      <SortItem\n        title=\"Самый быстрый\"\n        isActive={sortBy === 'duration'}\n        position=\"right\"\n        clickSortHandle={onChangeSorting('duration')}\n      />\n    </SortWrapper>\n  );\n};\n\nSort.propTypes = {\n  onChangeSorting: PropTypes.func.isRequired,\n  sortBy: PropTypes.string,\n};\n\nSort.defaultProps = {\n  sortBy: 'price',\n};\n\nexport default Sort;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ErrorDiv } from './styled';\n\nconst Error = ({ title, message }) => {\n  return (\n    <ErrorDiv>\n      <h3>{title}</h3>\n      <p>{message}</p>\n    </ErrorDiv>\n  );\n};\n\nError.propTypes = {\n  title: PropTypes.string,\n  message: PropTypes.string,\n};\n\nError.defaultProps = {\n  title: 'Unknown Error',\n  message: '',\n};\n\nexport default Error;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { format, addMinutes } from 'date-fns';\nimport { FlyInfoDiv, FlyInfoElement, FlyInfoTitle, FlyInfoContent } from './styled';\n\nconst getStopsTitle = count => {\n  const stopsTitle = count > 1 ? `${count} пересадки` : `1 пересадка`;\n  return count > 0 ? stopsTitle : 'Без пересадок';\n};\n\nconst getFlyDates = (date, duration) => {\n  const depDate = new Date(date);\n  const depTime = format(depDate, 'HH:mm');\n  const arriveTime = format(addMinutes(depDate, duration), 'HH:mm');\n  return { dep: depTime, arrive: arriveTime };\n};\n\nconst FlyInfo = ({ info }) => {\n  const { origin, destination, date, stops, duration } = info;\n  const formattedDuration = `${Math.floor(duration / 60)}ч ${duration % 60}м`;\n  const flightTime = getFlyDates(date, duration);\n  return (\n    <FlyInfoDiv>\n      <FlyInfoElement>\n        <FlyInfoTitle>{`${origin} – ${destination}`}</FlyInfoTitle>\n        <FlyInfoContent>{`${flightTime.dep} – ${flightTime.arrive}`}</FlyInfoContent>\n      </FlyInfoElement>\n      <FlyInfoElement>\n        <FlyInfoTitle>В пути</FlyInfoTitle>\n        <FlyInfoContent>{formattedDuration}</FlyInfoContent>\n      </FlyInfoElement>\n      <FlyInfoElement>\n        <FlyInfoTitle>{getStopsTitle(stops.length)}</FlyInfoTitle>\n        <FlyInfoContent>{stops.join(', ')}</FlyInfoContent>\n      </FlyInfoElement>\n    </FlyInfoDiv>\n  );\n};\n\nFlyInfo.propTypes = {\n  info: PropTypes.shape({\n    origin: PropTypes.string,\n    destination: PropTypes.string,\n    date: PropTypes.string,\n    stops: PropTypes.instanceOf(Array),\n    duration: PropTypes.number,\n  }),\n};\n\nFlyInfo.defaultProps = {\n  info: {\n    origin: '',\n    destination: '',\n    date: '',\n    stops: [],\n    duration: 0,\n  },\n};\n\nexport default FlyInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FlyInfo from './FlyInfo';\nimport { FlightLi, FlyInfoMain, FlyPrice, CompanyLogo } from './styled';\n\nconst Flights = ({ ticket }) => {\n  const { price, carrier, segments } = ticket;\n  const carrierLogo = `http://pics.avs.io/99/36/${carrier}.png`;\n  const formattedPrice = `${new Intl.NumberFormat('ru-RU').format(price)} р`;\n  return (\n    <FlightLi>\n      <FlyInfoMain>\n        <FlyPrice>{formattedPrice}</FlyPrice>\n        <CompanyLogo>\n          <img src={carrierLogo} alt=\"Carrier logo\" />\n        </CompanyLogo>\n      </FlyInfoMain>\n      <FlyInfo info={segments[0]} />\n      <FlyInfo info={segments[1]} />\n    </FlightLi>\n  );\n};\n\nFlights.propTypes = {\n  ticket: PropTypes.shape({\n    price: PropTypes.number,\n    carrier: PropTypes.string,\n    segments: PropTypes.instanceOf(Array),\n  }),\n};\n\nFlights.defaultProps = {\n  ticket: {\n    price: 0,\n    carrier: '',\n    segments: [],\n  },\n};\n\nexport default Flights;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Flight from './Flight';\nimport { FlightsList } from './styled';\n\nconst Flights = ({ tickets }) => {\n  return (\n    <FlightsList>\n      <ul>\n        {tickets &&\n          tickets.map((ticket, id) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <Flight key={id} ticket={ticket} />\n          ))}\n      </ul>\n    </FlightsList>\n  );\n};\n\nFlights.propTypes = {\n  tickets: PropTypes.instanceOf(Array),\n};\n\nFlights.defaultProps = {\n  tickets: null,\n};\n\nexport default Flights;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport _ from 'lodash';\nimport Sidebar from './Sidebar';\nimport { MainContentWrapper, SearchResultsWrapper } from './styled';\nimport TicketsService from './TicketsService';\nimport Sort from './Sort';\nimport Error from './Error';\nimport Flights from './Flights';\nimport useInterval from './customHooks/useInterval';\n\nconst Tickets = new TicketsService();\n\nconst MainContent = () => {\n  const [tickets, updateTickets] = useState(null);\n  const [error, setError] = useState(null);\n  const [sortBy, updateSorting] = useState('price');\n  const [stops, setStopsFilter] = useState({\n    all: true,\n    none: false,\n    one: false,\n    two: false,\n    three: false,\n  });\n\n  let intervalId = 0;\n\n  const getTickets = useCallback(() => {\n    setError(null);\n    Tickets.getTickets(stops, sortBy)\n      .then(({ newTickets, finish }) => {\n        updateTickets(newTickets);\n        if (finish) {\n          clearTimeout(intervalId);\n        }\n      })\n      .catch(err => {\n        setError(err.message);\n      });\n  }, [stops, sortBy, intervalId]);\n\n  const intervalRef = useInterval(getTickets, 5000);\n\n  intervalId = intervalRef.current;\n\n  useEffect(() => {\n    getTickets();\n  }, [getTickets]);\n\n  const onChangeStopsFilter = stopsCount => () => {\n    if (stopsCount === 'all') {\n      setStopsFilter({\n        ..._.mapValues(stops, () => false),\n        all: true,\n      });\n    } else {\n      setStopsFilter({\n        ...stops,\n        [stopsCount]: !stops[stopsCount],\n        all: false,\n      });\n    }\n  };\n\n  const onChangeSorting = sortDirection => () => {\n    updateSorting(sortDirection);\n  };\n\n  return (\n    <MainContentWrapper>\n      <Sidebar onChangeStopsFilter={onChangeStopsFilter} stopsFilter={stops} />\n      <SearchResultsWrapper>\n        <Sort onChangeSorting={onChangeSorting} sortBy={sortBy} />\n        {error ? (\n          <Error title=\"Sorry, network error. Wait...\" message={error} />\n        ) : (\n          <Flights tickets={tickets} />\n        )}\n      </SearchResultsWrapper>\n    </MainContentWrapper>\n  );\n};\n\nexport default MainContent;\n","import React from 'react';\n\nexport default function useInterval(callback, delay) {\n  const intervalRef = React.useRef();\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n\n  React.useEffect(() => {\n    if (typeof delay === 'number') {\n      intervalRef.current = window.setInterval(() => callbackRef.current(), delay);\n\n      return () => window.clearInterval(intervalRef.current);\n    }\n    return null;\n  }, [delay]);\n\n  return intervalRef;\n}\n","import React from 'react';\nimport MainContent from './MainContent';\nimport logo from './img/logo.svg';\nimport { GlobalStyle, Header } from './styled';\n\nconst App = () => {\n  return (\n    <>\n      <GlobalStyle />\n      <Header>\n        <img src={logo} alt=\"Aviasales logo\" />\n      </Header>\n      <MainContent />\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}